<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>AngularJS & Rails</title>

		<meta name="description" content="Spice up your rails application with angular js">
		<meta name="author" content="Ahmad hamza">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css" id="theme">

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
		<style type="text/css">
			html.flowofarequest div.slide-background.present {
				background-position:center;
				background-size: 50%;
			}
		</style>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section>
					<h1>AngularJS & Rails</h1>
					<h3>Spice up your rails application with AngularJS</h3>
					<p>
						<small>Created by <a href="http://about.me/Ahmadhamza">Ahmad hamza</a> / <a href="http://github.com/ahmad19">@ahmad19</a></small>
					</p>
				</section>
				<section>
					<h2>Hi,</h2>
				</section>
				<section>
					<h2 class="fragment">Why Angular?</h2>
				</section>
				<section id="fragments">
					<p>If you're using JavaScript to create a dynamic website,</p>
					<h3>Angular is a good choice.</h3>
					<p class="fragment">Angular helps you organize your JavaScript</p>
					<p class="fragment">Angular helps create responsive(as in fast) websites.</p>
					<p class="fragment">Angular plays well with jQuery.</p>
					<p class="fragment">Angular is easy to test.</p>
				</section>
				<section>
					<h2 class="fragment">What is AngularJS?</h2>
				</section>
				<section>
					<section>
						<h3>Traditional Page</h3>
					</section>					
					<section data-background="images/flow_of_a_request.png" data-background-size="1000px">
					</section>
					<section>
						<h3>A responsive website's page using Angular</h3>
					</section>
					<section data-background="images/flow_of_request_in_angularjs.png" data-background-size="1000px">
					</section>
					<section>
						<h3>From an API perspective:</h3>
					</section>
					<section data-background="images/modern_api.png" data-background-size="1000px">
					</section>
				</section>
				<section>
					<section>
						<blockquote>AngularJS is a client-side JavaScript Framework for adding interactivity to HTML.</blockquote>
						<p class="fragment"><b>How</b> do we tell our <b>HTML</b> when to trigger our <b>JavaScript?</b></p>
				        <pre class="fragment"><code data-trim contenteditable>
&lt;!DOCTYPE HTML&gt;
&lt;html&gt;
&lt;body&gt;
 ....
&lt;/body&gt;
&lt;/html&gt;
				        </code></pre>
				        <pre class="fragment">
				        	<code data-trim contenteditable>
function Something(){
 alert("Hello World!");
}
					        </code>
				        </pre>
					</section>
				</section>
				<section>
					<section>
					<h3>Directives</h3>
					<p class="fragment"> A <b>Directive</b> is a marker on a HTML tag that tells Angular to run or reference some JavaScript code.
						<pre class="fragment"><code data-trim contenteditable>
&lt;!DOCTYPE HTML&gt;
&lt;html&gt;
&lt;body ng-controller=&quot;StoreController&quot;&gt;
....
&lt;/body&gt;
&lt;/html&gt;
				        </code></pre>
				        <pre class="fragment"><code data-trim contenteditable>
function StoreController(){
 alert("Hello World!");
}
				        </code></pre>
				        <p class="fragment"><b>StoreController</b> is the name of the function to call.</p>
				        <p class="fragment">It's a bad example :p</p>
				        <p class="fragment"> But this is how we bind the behaviour!! <b>DIRECTIVES</b></p>
					</section>
				</section>
				<section>
					<section>
						<h3>Dynamic Web Application and Static Websites </h3>
						<p class="fragment">The impedance mismatch is often solved with: </p>
						<p class="fragment"><b>Library:</b> A collection of functions which are useful when writing web apps. Your code is in charge and it calls into the library when it sees fit. E.g., jQuery.</p>
						<p class="fragment"><b>Frameworks:</b> A particular implementation of a web application, where your code fills in the details. The framework is in charge and it calls into your code when it needs something app specific. E.g., durandal, ember, etc.</p>	
					</section>
					<section>
						<h3>Meanwhile in Angular</h3>
						<p class="fragment">It attempts to minimize the impedance mismatch between document centric HTML and what an application needs by creating new HTML constructs.</p>
						<p class="fragment"> Angular teaches the browser new syntax through a construct we call... </p>
						<p class="fragment"> <b>Directives</b> </p>
					</section>
				</section>
				<section>
					<section>
						<h3>Getting Started</h3>
						<pre class="fragment"><code data-trim contenteditable>
&lt;!DOCTYPE HTML&gt;
&lt;html&gt;
 &lt;head&gt;
  &lt;link rel=&quot;stylesheet&quot;type=&quot;text/css&quot; href=&quot;bootstrap.min.css&quot;/&gt;
 &lt;/head&gt;
 &lt;body&gt;
  &lt;script type=&quot;text/javascript&quot; src=&quot;angular.min.js&quot;&gt;&lt;/script&gt;
 &lt;/body&gt;
&lt;/html&gt;	
						</code></pre>
					</section>
					<section>
						<h3>Modules</h3>
						<p class="fragment">Where we write pieces of our Angular application.</p>
						<p class="fragment">Makes our code more maintainable, testable, and readable.</p>
						<p class="fragment">Where we define dependencies for our app</p>
					</section>
					<section>
						<h3>Creating Our First Module</h3>
						<pre class="fragment"><code>
var store = angular.module('store', []);
						</code></pre>
						<blockquote class="fragment">
						<p>angular -> From AngularJS</p>
						<p>store -> Application Name</p>
						<p>[ ] -> Dependencies</p>
						</blockquote>
					</section>
					<section>
						<h3>Including Our Module</h3>
						<pre class="fragment"><code data-trim contenteditable>
&lt;!DOCTYPE HTML&gt;
&lt;html ng-app=&quot;store&quot;&gt;
 &lt;head&gt;
  &lt;link rel=&quot;stylesheet&quot;type=&quot;text/css&quot; href=&quot;bootstrap.min.css&quot;/&gt;
 &lt;/head&gt;
 &lt;body&gt;
  &lt;script type=&quot;text/javascript&quot; src=&quot;angular.min.js&quot;&gt;&lt;/script&gt;
  &lt;script type=&quot;text/javascript&quot; src=&quot;app.js&quot;&gt;&lt;/script&gt;
 &lt;/body&gt;
&lt;/html&gt;	
						</code></pre>
						<p class="fragment">Did we use directive here?</p>
						<p class="fragment">ng-app: Run this module when the page loads.</p>
					</section>
					<section>
						<h3>Expressions</h3>
						<pre class="fragment"><code data-trim contenteditable>	
&lt;p&gt;   			&lt;p&gt;
{{10+2}}    		 12
&lt;/p&gt;  			&lt;/p&gt;
						</code></pre>
						<pre class="fragment"><code data-trim contenteditable>
&lt;p&gt;			&lt;p&gt;
{{&quot;hello&quot;+&quot;You&quot;}}       Hello You      
&lt;/p&gt;			&lt;/p&gt;
						</code></pre>
					</section>
				</section>
				<section>
					<p>Enuf of the theory. Lets write some code..!!</p>
					<ul>
						<li>Set Up</li>
						<li>Data Binding</li>
					</ul>	
				</section>
				<section>
					<section>
						<h3>Data Binding</h3>
						<p class="fragment">Automatic synchronization of data between the model and view components</p>
						<p class="fragment">Lets us treat model as Single-source-of-truth in our application</p>
						<p class="fragment">View is the project of model all times</p>
						<p class="fragment">Model changes, the view reflects the change and vice versa.</p>
					</section>
					<section>
						<h3>Classical Template System</h3>
					</section>
					<section data-background="images/One_Way_Data_Binding.png" data-background-size="800px"></section>
					<section>
						<h3>Angular Templates</h3>
					</section>
					<section data-background="images/Two_Way_Data_Binding.png" data-background-size="800px"></section>
				</section>
				<section>
					<section>
					<h4>Controllers</h4>
					<p class="fragment">They help us to get data on to the page</p>
					<p class="fragment">Controllers are where we define our application's behaviour by defining functions and values.</p>
					<pre class="fragment"><code>
var gem = {
 name: 'Docahedron',
 price: 2.95,
 description: 'It is an awesome gem!'
}
					</code></pre>
					<p class="fragment">But the question is how do we display this data on to the page?</p>
					<p class="fragment">Use a directive: <b>ng-controller</b> to attach a controller into the DOM.</p>
					</section>
					<section>
					<pre class="fragment"><code data-trim contenteditable>
&lt;!DOCTYPE HTML&gt;
&lt;html ng-app=&quot;store&quot;&gt;
 &lt;head&gt;
  &lt;link rel=&quot;stylesheet&quot;type=&quot;text/css&quot; href=&quot;bootstrap.min.css&quot;/&gt;
 &lt;/head&gt;
 &lt;body ng-controller=&quot;StoreController&quot;&gt;
  &lt;script type=&quot;text/javascript&quot; src=&quot;angular.min.js&quot;&gt;&lt;/script&gt;
  &lt;script type=&quot;text/javascript&quot; src=&quot;app.js&quot;&gt;&lt;/script&gt;
 &lt;/body&gt;
&lt;/html&gt;
					</code></pre>
					<pre class="fragment"><code data-trim contenteditable>
(function(){
	var app = angular.module('store',[]);
	app.controller('StoreController', function($scope){
		$scope.product = gem;		
	});
	var gem = {
	name: 'Docahedron',
	price: 2.95,
	description: 'It is an awesome gem'
	}
})();
					</code></pre>
					</section>
					<section>
						<h3>Setting up the initial state of a <b>$scope</b> object</h3>
						<p class="fragment">We need to set up the initial state for the Angular $scope by attaching properties to it.</p>
						<p class="fragment">The properties contains the view model and it is available to the template in the DOM.</p>
						<p class="fragment"><a href="http://plnkr.co/edit/zPNVkvJeujKBsisLZyhh?p=preview">Demo</a></p>
					</section>
					<section>
						<h3>Adding Behavior to a Scope Object</h3>
						<p class="fragment">Lets add behaviour to the scope.</p>
						<p class="fragment">We can add methods to the $scope object which are then available to view/templates.</p>
						<p class="fragment"><a href="http://plnkr.co/edit/N0xgIpMkJDD3SLux055h?p=preview">Demo</a></p>
					</section>
					<section>
						<h3><a href="http://plnkr.co/edit/wuXHjbJ8CUDj5ngNupMW?p=preview">Simple controller example</a></h3>
						<h3 class="fragment"><a href="http://plnkr.co/edit/?p=preview">Arguments Example</a></h3>
					</section>	
				</section>
				<section>
					<p>Few Directives</p>
					<table>
						<tbody>
							<tr>
								<td>ng-show</td>
								<td>directive shows or hides the given HTML element based on the expression provided to it</td>
							<tr>
							<tr>
								<td>ng-hide</td>
								<td>Opposite of ng-show</td>
							<tr>
							<tr>
								<td>ng-repeat</td>
								<td>To iterate on an array like each in ruby.</td>
							<tr>
							<tr>
								<td>ng-model</td>
								<td>This directive binds an input,select, textarea (or custom form control) to a property on the scope</td>
							<tr>
						</tbody>
					</table>
				</section>
				<section>
					<section>
						<h3> Integrate Angular with Rails </h3>
					</section>
					<section>
						<h3> Gems Required </h3>
						<pre class="fragment"><code>
gem 'angularjs-rails'
						</code></pre>
						<pre class="fragment"><code>
gem 'angular-ui-bootstrap-rails' #for bootstrap UI
						</code></pre>
					</section>
					<section>
						<h3> Set Up </h3>
						<pre class="fragment"><code>
# application.js
//= require angular
//= require angular-route
//= require angular-resource
//= require angular-ui-bootstrap
						</code></pre>
						<pre class="fragment"><code>
&lt;html ng-app=&quot;app-name&quot;&gt;
						</code></pre>
					</section>
					<section>
						<h3> Structure the Application </h3>
						<pre class="fragment"><code>
# directories
mkdir -p app/assets/javascripts/angular
						</code></pre>
						<pre class="fragment"><code>
# application.js
//= require angular
//= require angular-route
//= require angular-resource
//= require angular-ui-bootstrap
//= require angular/app
//= require tree .
						</code></pre>
						<p class="fragment"> It is very important to require the angular before any of the angular files.</p>
					</section>
				</section>
				<section>
					<section>
						<h3>Filters</h3>
						<p class="fragment">
							A filter formats the value of an expression for display to the user. They can be used in view templates, controllers or services and it is easy to define your own filter.
							Usage: Filters can be added to expressions and directives using a pipe character.
						</p>
					</section>
					<section>
						<h3>
							Multiple types of Filters:
						</h3>
						<table>
							<thead>
								<tr>
									<th>Filter Usage</th>
									<th>Description</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td>Adding filters to expressions</td>
									<td>{{ lastName | uppercase }}</td>
								<tr>
								<tr>
									<td>Adding Filters to Directives</td>
									<td>ng-repeat="x in names | orderBy:'country'"</td>
								<tr>
								<tr>
									<td>Filtering Input</td>
									<td>Use ng-model variable in the filter query.</td>
								<tr>
							</tbody>
						</table>
					</section>
				</section>
				<section>
					<section>
						<h3>Service</h3>
					</section>
					<section>
						<h3>What is service?</h3>
						<p class="fragment">The term <b>service</b> refers to a simple object that does some sort of work.<p>
						<p class="fragment">It is typically <b>a stateless</b> and <b>a encapsulated</b> functionality</p>
						<p class="fragment">Public members are functions not properties. Most often they are just objects called directly within your javascript.</p>
					</section>
					<section>
						<h3>Why we need services?</h3>
						<p class="fragment">2 of 5 SOLID principles of object oriented design are directly related to Services: </p>
						<ul class="fragment">
							<li>Single Responsibility Principle (SRP) </li>
							<li>Dependency Inversion Principle (DIP)</li>
						</ul>
					</section>
					<section>
						<ul>
							<li class="fragment">SRP teaches us that every object should have a single responsibility.</li>
							<li class="fragment">Ex: Controller's responsibility to wire up the scope(which hold your models) to your views.</li>
							<li class="fragment">Essentially a bridge between your models and views. But if it is also responsible to make ajax calls to fetch and update data, this the violation of the SRP principle.</li>
						</ul>
					</section>
					<section>
						<ul>
							<li class="fragment">DIP comes in here, which states that object should depend on abstractions, not concretions. In languages like C# and Java, this means your objects depend on Interfaces instead of Classes</li>
							<li class="fragment">In JavaScript you could look at any parameter of any function (constructor function or otherwise) as an abstraction, since you can pass in any object for that parameter so long as it has the members on it that are used within that method.</li>
						</ul>
					</section>
					<section>
						<ul>
							<li class="fragment">But the key here is the ability to inject into other objects.</li>
							<li class="fragment">This means that all of your controllers, directives, filters and other services should take in any external dependencies as parameters during construction.</li>
							<li class="fragment">This allows you to have loosely coupled code and has the added benefit of making unit testing much easier</li>
							<li class="fragment"><p class="fragment grow">This is called as <b>Dependency Injection</b></p></li>
						</ul>
					</section>
					<section>
						<h3>Creating a Custom Service</h3>
						<ul>
							<li>Notice that we are setting $scope.teams to a static array of teams. Let's change to access it via ajax call but again its not a duty of the controller so lets create a service to handle it and our controller will call the service.</li>
							<li>
							<pre><code>myapp.factory('People', function() {
    return { };
});							</code></pre></li>
							<li>If we simple returns the object that is to be our service, why do we need all the other ceremony of myapp.factory?</li>
							<li>
								Factory method registers our service with Angular. This allows Angular Dependency Injection container to inject an instance of our service when we request it in other places. 
							</li>
						</ul>
					</section>
					<section>
						<p class="fragment">Lets just use our static array inside our customer service to check the working of it.</p>
						<p class="fragment">Now use Angular's built in Service through which we can call the data from the backend.</p>
					</section>
				</section>
				<section>
					<section>
						<h3>Routes & Templates</h3>
						<p class="fragment">So we did set up the other services. Now we need to set up our views and routes according to it.</p>
						<p class="fragment">gem 'angular-rails-templates'</p>
					</section>
					<section>
						<h3>ngRoute</h3>
						<p class="fragment">The ngRoute module provides routing and deeplinking services and directives for angular apps such as:</p>
						<ul>
							<li class="fragment">Directive: ngView</li>
							<li class="fragment">Provider: $routeProvider</li>
							<li class="fragment">Services: $route</li>
							<li class="fragment">$routeParams</li>
						</ul>
					</section>
					<section>
						<p class="fragment">Create files in public folder such as index.html etc.</p>
						<p class="fragment">Append <b>ng-view</b> in the main container of the DOM.</p>
						<p class="fragment">Already required <b>angular-route</b> in the manifest file, also include in the angular initialization.</p>
						<pre class="fragment"><code><!-- Append this in the head section of html -->
&lt;base href=&quot;/&quot;&gt;</code></pre>
					</section>
					<section>
						<h3>Configurations</h3>
						<pre><code>myapp.config(['$routeProvider', '$locationProvider',
function($routeProvider, $locationProvider) {
    $routeProvider.when('/persons',{
      templateUrl: '/templates/persons/index.html',
      controller: 'PersonsListCtr'
    });
    $routeProvider.otherwise({
     redirectTo: '/persons'
    });
 $locationProvider.html5Mode(true);
 }
]);</code></pre>
					</section>
					<section>
						<h3></h3>
					</section>
					
				</section>
			</div>
		</div>
		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});

		</script>
	</body>